@startuml
class Juego {
  +iniciar()
  +terminar()
}

class Nivel {
  +cargar()
  +finalizar()
}

class Personaje {
  -puntaje : Puntaje
  -bonus : Bonus
  +mover()
  +saltar()
}

class Payaso {
  -vidas[0..3] : Vida
  -colision : Colision
  +recibirGolpe()
  +caer()
}

class Vida {
  -energia : Energia
  +restar()
  +sumar()
}

class Animacion {
  +iniciar()
  +detener()
}

class Escenario {
  -distancia : Distancia
  -fondo : Fondo
  -obstaculos[ ] : Obstaculo
  -sonido : Sonido
  -animacion : Animacion
  -musica : Musica
  +dibujar()
  +actualizar()
}

class Distancia

class Fondo

class Obstaculo {
  +aparecer()
}

class Musica {
  +reproducir()
  +detener()
}

class Sonido {
  +emitir()
}

class TipoJuego {
  +seleccionar()
}

class Bonus {
  +otorgar()
}

class Puntaje {
  +sumar()
  +mostrar()
}

class Control {
  -acciones[ ] : Accion
  +mover()
  +pausar()
}

class Accion {
  +ejecutar()
}

class Jugador {
  -personaje : Personaje
  -control : Control
  +iniciarJuego()
  +seleccionarPersonaje()
}

class Velocidad {
  +aplicar()
}

class Salto {
  +ejecutar()
}

class Posicion {
  +actualizar()
}

class Energia {
  +disminuir()
  +recuperar()
}

class Colision {
  +detectar()
}

class CircusCharlie {
  +iniciarCircus()
}

class Seleccion {
  +elegir()
}

' Relaciones
CircusCharlie --|> Juego
Juego *-- Menu
Nivel --* Menu
Jugador o-- Seleccion
Nivel *-- Escenario
Menu *-- Seleccion
Escenario *-- Musica
Escenario *-- Distancia
Escenario *-- Fondo
Escenario *-- Obstaculo
Escenario *-- Sonido
Escenario *-- Animacion
Nivel *-- TipoJuego
Personaje *-- Puntaje
Personaje *-- Bonus
Jugador *-- Personaje
Personaje <|-- Payaso
Jugador o-- Control
Control *-- Accion
Payaso o-- Accion
Velocidad --|> Accion
Salto --|> Accion
Posicion --|> Accion
Vida o-- Energia
Payaso *-- Colision
Payaso "1" *-- "0..3" Vida
@enduml
